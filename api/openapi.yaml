openapi: 3.1.0
info:
  title: Property Bookings API
  description: API to manage property bookings â€” create, update, cancel and
    query bookings. Each booking includes check-in/out dates, guest count,
    and price; designed for integration and AI readiness.
  contact:
    name: API Support
    email: support@bookings-sample.dev
    url: https://bookings-sample.dev/support
  version: 1.0.0
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
servers:
  - url: https://api.bookings-sample.dev/v1
    description: Production server
tags:
  - name: bookings
    description: Operations on bookings
    externalDocs:
      description: API usage guide
      url: https://bookings-sample.dev/docs
paths:
  /bookings:
    post:
      tags:
        - bookings
      summary: Create a new booking
      description: Create a booking for a property with check-in/out dates,
        guest count and price. Returns the created booking resource.
      operationId: createBooking
      requestBody:
        description: Booking creation payload containing dates, guests and
          price.
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BookingCreate'
            example:
              checkInDate: 2025-12-20
              checkOutDate: 2025-12-25
              guests: 2
              price: 450.0
      responses:
        '201':
          description: Booking created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Booking'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ServerError'
    get:
      tags:
        - bookings
      summary: List bookings
      description: Retrieve a paginated list of bookings. Supports limit and
        offset query parameters for paging.
      operationId: listBookings
      parameters:
        - name: limit
          in: query
          description: Maximum number of bookings to return
          example: 20
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - name: offset
          in: query
          description: Number of bookings to skip (for paging)
          example: 0
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: List of bookings
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Booking'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ServerError'
  /bookings/{bookingId}:
    parameters:
      - name: bookingId
        in: path
        required: true
        description: Unique booking identifier (UUID)
        example: "123e4567-e89b-12d3-a456-426614174000"
        schema:
          type: string
    get:
      tags:
        - bookings
      summary: Retrieve a booking
      description: Get a single booking by its ID.
      operationId: getBooking
      responses:
        '200':
          description: Found booking
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Booking'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'
    put:
      tags:
        - bookings
      summary: Replace a booking
      description: Replace an existing booking with the supplied payload.
      operationId: replaceBooking
      requestBody:
        description: Full booking payload used to replace the existing
          booking.
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BookingCreate'
            example:
              checkInDate: 2025-12-20
              checkOutDate: 2025-12-25
              guests: 2
              price: 450.0
      responses:
        '200':
          description: Booking updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Booking'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'
    patch:
      tags:
        - bookings
      summary: Partially update a booking
      description: Apply partial changes to a booking. Only provided fields
        will be updated.
      operationId: updateBooking
      requestBody:
        description: Partial booking object with fields to update.
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BookingUpdate'
            example:
              guests: 3
              price: 499.99
      responses:
        '200':
          description: Booking updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Booking'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'
    delete:
      tags:
        - bookings
      summary: Cancel (delete) a booking
      description: Permanently cancel/delete a booking by ID.
      operationId: cancelBooking
      responses:
        '204':
          description: Booking cancelled successfully (no content)
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'
  /bookings/{bookingId}/cancel:
    post:
      tags:
        - bookings
      summary: Cancel a booking (action)
      description: Soft-cancel a booking; this marks it cancelled and returns
        the updated booking resource.
      operationId: actionCancelBooking
      parameters:
        - name: bookingId
          in: path
          description: Unique booking identifier (UUID)
          example: "123e4567-e89b-12d3-a456-426614174000"
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Booking cancelled
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Booking'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'
components:
  schemas:
    Booking:
      type: object
      description: A booking for a property. Contains dates, guest count,
        price and status.
      example:
        id: "123e4567-e89b-12d3-a456-426614174000"
        checkInDate: 2025-12-20
        checkOutDate: 2025-12-25
        guests: 2
        price: 450.0
        status: confirmed
      properties:
        id:
          type: string
          format: uuid
          description: Unique booking identifier
          example: "123e4567-e89b-12d3-a456-426614174000"
        checkInDate:
          type: string
          format: date
          description: Date of check-in (YYYY-MM-DD)
          example: 2025-12-20
        checkOutDate:
          type: string
          format: date
          description: Date of check-out (YYYY-MM-DD)
          example: 2025-12-25
        guests:
          type: integer
          minimum: 1
          description: Number of guests included in the booking
          example: 2
        price:
          type: number
          format: double
          minimum: 0
          description: Total price for the booking in the currency used by the
            service
          example: 450.0
        status:
          type: string
          description: Current booking status (confirmed, cancelled, pending)
          enum:
            - confirmed
            - cancelled
            - pending
          example: confirmed
      required:
        - id
        - checkInDate
        - checkOutDate
        - guests
        - price
        - status
    BookingCreate:
      type: object
      description: Payload for creating a booking.
      example:
        checkInDate: 2025-12-20
        checkOutDate: 2025-12-25
        guests: 2
        price: 450.0
      properties:
        checkInDate:
          type: string
          format: date
          description: Date of check-in (YYYY-MM-DD)
          example: 2025-12-20
        checkOutDate:
          type: string
          format: date
          description: Date of check-out (YYYY-MM-DD)
          example: 2025-12-25
        guests:
          type: integer
          minimum: 1
          description: Number of guests to include
          example: 2
        price:
          type: number
          format: double
          minimum: 0
          description: Total booking price
          example: 450.0
      required:
        - checkInDate
        - checkOutDate
        - guests
        - price
    BookingUpdate:
      type: object
      description: Payload for partially updating a booking. Only provided
        fields will be modified.
      example:
        guests: 3
        price: 499.99
      properties:
        checkInDate:
          type: string
          format: date
          description: Date of check-in (YYYY-MM-DD)
          example: 2025-12-20
        checkOutDate:
          type: string
          format: date
          description: Date of check-out (YYYY-MM-DD)
          example: 2025-12-25
        guests:
          type: integer
          minimum: 1
          description: Number of guests
          example: 3
        price:
          type: number
          format: double
          minimum: 0
          description: Total booking price
          example: 499.99
        status:
          type: string
          description: Booking status
          enum:
            - confirmed
            - cancelled
            - pending
          example: pending
      additionalProperties: false
    Error:
      type: object
      description: Standard error response payload.
      example:
        code: 500
        message: "Internal server error"
      properties:
        code:
          type: integer
          description: Numeric error code identifying the error
          example: 500
        message:
          type: string
          description: Human-readable error message
          example: "Internal server error"
      required:
        - code
        - message
  responses:
    BadRequest:
      description: Bad request
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    NotFound:
      description: Resource not found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    ServerError:
      description: Internal server error
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: Bearer authentication using JWT tokens
security:
  - bearerAuth: []
 
